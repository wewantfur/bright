"use strict";function inherit(r,t){return extend(new(extend(function(){},{prototype:r})),t)}function merge(r){return forEach(arguments,function(t){t!==r&&forEach(t,function(t,e){r.hasOwnProperty(e)||(r[e]=t)})}),r}function $TemplateFactory(r,t,e){this.fromConfig=function(r,t,e){return isDefined(r.template)?this.fromString(r.template,t):isDefined(r.templateUrl)?this.fromUrl(r.templateUrl,t):isDefined(r.templateProvider)?this.fromProvider(r.templateProvider,t,e):null},this.fromString=function(r,t){return isFunction(r)?r(t):r},this.fromUrl=function(e,n){return isFunction(e)&&(e=e(n)),null==e?null:r.get(e,{cache:t}).then(function(r){return r.data})},this.fromProvider=function(r,t,n){return e.invoke(r,null,n||{params:t})}}function UrlMatcher(r){function t(t){if(!/^\w+$/.test(t))throw Error("Invalid parameter name '"+t+"' in pattern '"+r+"'");if(a[t])throw Error("Duplicate parameter name '"+t+"' in pattern '"+r+"'");a[t]=!0,l.push(t)}function e(r){return r.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var n,i=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,a={},o="^",s=0,u=this.segments=[],l=this.params=[];this.source=r;for(var c,f,h;(n=i.exec(r))&&(c=n[2]||n[3],f=n[4]||("*"==n[1]?".*":"[^/]*"),h=r.substring(s,n.index),!(h.indexOf("?")>=0));)o+=e(h)+"("+f+")",t(c),u.push(h),s=i.lastIndex;h=r.substring(s);var $=h.indexOf("?");if($>=0){var p=this.sourceSearch=h.substring($);h=h.substring(0,$),this.sourcePath=r.substring(0,s+$),forEach(p.substring(1).split(/[&?]/),t)}else this.sourcePath=r,this.sourceSearch="";o+=e(h)+"$",u.push(h),this.regexp=RegExp(o),this.prefix=u[0]}function $UrlMatcherFactory(){this.compile=function(r){return new UrlMatcher(r)},this.isMatcher=function(r){return r instanceof UrlMatcher},this.$get=function(){return this}}function $UrlRouterProvider(r){function t(r){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(r.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function e(r,t){return r.replace(/\$(\$|\d{1,2})/,function(r,e){return t["$"===e?0:Number(e)]})}function n(r,t,e){if(!e)return!1;var n=t(e,r);return isDefined(n)?n:!0}var i=[],a=null;this.rule=function(r){if(!isFunction(r))throw Error("'rule' must be a function");return i.push(r),this},this.otherwise=function(r){if(isString(r)){var t=r;r=function(){return t}}else if(!isFunction(r))throw Error("'rule' must be a function");return a=r,this},this.when=function(i,a){var o,s;if(isString(i)&&(i=r.compile(i)),r.isMatcher(i)){if(isString(a))s=r.compile(a),a=function(r){return s.format(r)};else if(!isFunction(a))throw Error("invalid 'handler' in when()");o=function(r){return n(r,a,i.exec(r.path(),r.search()))},o.prefix=isString(i.prefix)?i.prefix:""}else{if(!(i instanceof RegExp))throw Error("invalid 'what' in when()");if(isString(a))s=a,a=function(r){return e(s,r)};else if(!isFunction(a))throw Error("invalid 'handler' in when()");if(i.global||i.sticky)throw Error("when() RegExp must not be global or sticky");o=function(r){return n(r,a,i.exec(r.path()))},o.prefix=t(i)}return this.rule(o)},this.$get=["$location","$rootScope",function(r,t){function e(){var t,e,n=i.length;for(t=0;n>t;t++)if(e=i[t](r)){isString(e)&&r.replace().url(e);break}}return a&&i.push(a),t.$on("$locationChangeSuccess",e),{}}]}function $StateProvider(r,t){function e(r){var t;if(isString(r)){if(t=u[r],!t)throw Error("No such state '"+r+"'")}else if(t=u[r.name],!t||t!==r&&t.self!==r)throw Error("Invalid or unregistered state");return t}function n(n){n=inherit(n,{self:n,toString:function(){return this.name}});var i=n.name;if(!isString(i)||i.indexOf("@")>=0)throw Error("State must have a valid name");if(u[i])throw Error("State '"+i+"'' is already defined");var a=o;if(isDefined(n.parent))null!=n.parent&&(a=e(n.parent));else{var l=/^(.+)\.[^.]+$/.exec(i);null!=l&&(a=e(l[1]))}n.parent=a;var c=n.url;if(isString(c))c=n.url="^"==c.charAt(0)?t.compile(c.substring(1)):(a.navigable||o).url.concat(c);else if(isObject(c)&&isFunction(c.exec)&&isFunction(c.format)&&isFunction(c.concat));else if(null!=c)throw Error("Invalid url '"+c+"' in state '"+n+"'");n.navigable=c?n:a?a.navigable:null;var f=n.params;if(f){if(!isArray(f))throw Error("Invalid params in state '"+n+"'");if(c)throw Error("Both params and url specicified in state '"+n+"'")}else f=n.params=c?c.parameters():n.parent.params;var h={};if(forEach(f,function(r){h[r]=!0}),a){forEach(a.params,function(r){if(!h[r])throw Error("Missing required parameter '"+r+"' in state '"+i+"'");h[r]=!1});var $=n.ownParams=[];forEach(h,function(r,t){r&&$.push(t)})}else n.ownParams=f;var p={};forEach(isDefined(n.views)?n.views:{"":n},function(r,t){0>t.indexOf("@")&&(t=t+"@"+n.parent.name),p[t]=r}),n.views=p,n.path=a?a.path.concat(n):[];var m=n.includes=a?extend({},a.includes):{};return m[i]=!0,n.resolve||(n.resolve={}),!n.abstract&&c&&r.when(c,function(r){s.transitionTo(n,r,!1)}),u[i]=n,n}function i(r,t){return isObject(r)?t=r:t.name=r,n(t),this}function a(r,t,n,i,a,u){function l(r,e,a,o,s){function u(e,n){forEach(e,function(e,a){c.push(t.when(isString(e)?i.get(e):i.invoke(e,r.self,f)).then(function(r){n[a]=r}))})}var l,c=[o];a?l=e:(l={},forEach(r.params,function(r){l[r]=e[r]}));var f={$stateParams:l},h=s.globals={$stateParams:l};return u(r.resolve,h),h.$$state=r,forEach(r.views,function(e,i){var a=s[i]={$$controller:e.controller};c.push(t.when(n.fromConfig(e,l,f)||"").then(function(r){a.$template=r})),e.resolve!==r.resolve&&u(e.resolve,a)}),t.all(c).then(function(t){return merge(s.globals,t[0].globals),forEach(r.views,function(r,t){merge(s[t],s.globals)}),s})}function c(r,t,e){for(var n=0;e.length>n;n++){var i=e[n];if(r[i]!=t[i])return!1}return!0}var f=t.reject(Error("transition superseded")),h=t.reject(Error("transition prevented"));return s={params:{},current:o.self,$current:o,transition:null},s.transitionTo=function(n,$,p){if(isDefined(p)||(p=!0),n=e(n),n.abstract)throw Error("Cannot transition to abstract state '"+n+"'");var m,v,d=n.path,g=s.$current,w=s.params,E=g.path,b=o.locals,S=[];for(m=0,v=d[m];v&&v===E[m]&&c($,w,v.ownParams);m++,v=d[m])b=S[m]=v.locals;if(n===g&&b===g.locals)return s.transition=null,t.when(s.current);var P={};if(forEach(n.params,function(r){var t=$[r];P[r]=null!=t?t+"":null}),$=P,r.$broadcast("$stateChangeStart",n.self,$,g.self,w).defaultPrevented)return h;for(var x=t.when(b),y=m;d.length>y;y++,v=d[y])b=S[y]=inherit(b),x=l(v,$,v===n,x,b);var C=s.transition=x.then(function(){var t,e,o;if(s.transition!==C)return f;for(t=E.length-1;t>=m;t--)o=E[t],o.self.onExit&&i.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(t=m;d.length>t;t++)e=d[t],e.locals=S[t],e.self.onEnter&&i.invoke(e.self.onEnter,e.self,e.locals.globals);s.$current=n,s.current=n.self,s.params=$,copy(s.params,a),s.transition=null;var l=n.navigable;return p&&l&&u.url(l.url.format(l.locals.globals.$stateParams)),r.$broadcast("$stateChangeSuccess",n.self,$,g.self,w),s.current},function(e){return s.transition!==C?f:(s.transition=null,r.$broadcast("$stateChangeError",n.self,$,g.self,w,e),t.reject(e))});return C},s.is=function(r){return s.$current===e(r)},s.includes=function(r){return s.$current.includes[e(r).name]},s}var o,s,u={};o=n({name:"",url:"^",views:null,"abstract":!0}),o.locals={globals:{$stateParams:{}}},o.navigable=null,this.state=i,this.$get=a,a.$inject=["$rootScope","$q","$templateFactory","$injector","$stateParams","$location","$urlRouter"]}function $ViewDirective(r,t,e,n){var i={restrict:"ECA",terminal:!0,link:function(a,o,s){function u(){var i=r.$current&&r.$current.locals[f];if(i!==c)if(l&&(l.$destroy(),l=null),i){c=i,p.state=i.$$state,o.html(i.$template);var s=t(o.contents());if(l=a.$new(),i.$$controller){i.$scope=l;var u=e(i.$$controller,i);o.contents().data("$ngControllerController",u)}s(l),l.$emit("$viewContentLoaded"),l.$eval(h),n()}else c=null,p.state=null,o.html("")}var l,c,f=s[i.name]||s.name||"",h=s.onload||"",$=o.parent().inheritedData("$uiView");0>f.indexOf("@")&&(f=f+"@"+($?$.state.name:""));var p={name:f,state:null};o.data("$uiView",p),a.$on("$stateChangeSuccess",u),u()}};return i}function $RouteProvider(r,t){function e(r){this.locals=r.locals.globals,this.params=this.locals.$stateParams}function n(){this.locals=null,this.params=null}function i(i,a){if(null!=a.redirectTo){var s,u=a.redirectTo;if(isString(u))s=u;else{if(!isFunction(u))throw Error("Invalid 'redirectTo' in when()");s=function(r,t){return u(r,t.path(),t.search())}}t.when(i,s)}else r.state(inherit(a,{parent:null,name:"route:"+encodeURIComponent(i),url:i,onEnter:e,onExit:n}));return o.push(a),this}function a(r,t,e){function n(r){return""!==r.name?r:void 0}var i={routes:o,params:e,current:void 0};return t.$on("$stateChangeStart",function(r,e,i,a){t.$broadcast("$routeChangeStart",n(e),n(a))}),t.$on("$stateChangeSuccess",function(r,e,a,o){i.current=n(e),t.$broadcast("$routeChangeSuccess",n(e),n(o)),copy(a,i.params)}),t.$on("$stateChangeError",function(r,e,i,a,o,s){t.$broadcast("$routeChangeError",n(e),n(a),s)}),i}var o=[];e.$inject=["$$state"],this.when=i,this.$get=a,a.$inject=["$state","$rootScope","$routeParams"]}var isDefined=angular.isDefined,isFunction=angular.isFunction,isString=angular.isString,isObject=angular.isObject,isArray=angular.isArray,forEach=angular.forEach,extend=angular.extend,copy=angular.copy;angular.module("ui.util",["ng"]),angular.module("ui.router",["ui.util"]),angular.module("ui.state",["ui.router","ui.util"]),angular.module("ui.compat",["ui.state"]),$TemplateFactory.$inject=["$http","$templateCache","$injector"],angular.module("ui.util").service("$templateFactory",$TemplateFactory),UrlMatcher.prototype.concat=function(r){return new UrlMatcher(this.sourcePath+r+this.sourceSearch)},UrlMatcher.prototype.toString=function(){return this.source},UrlMatcher.prototype.exec=function(r,t){var e=this.regexp.exec(r);if(!e)return null;var n,i=this.params,a=i.length,o=this.segments.length-1,s={};for(n=0;o>n;n++)s[i[n]]=decodeURIComponent(e[n+1]);for(;a>n;n++)s[i[n]]=t[i[n]];return s},UrlMatcher.prototype.parameters=function(){return this.params},UrlMatcher.prototype.format=function(r){var t=this.segments,e=this.params;if(!r)return t.join("");var n,i,a,o=t.length-1,s=e.length,u=t[0];for(n=0;o>n;n++)a=r[e[n]],null!=a&&(u+=a),u+=t[n+1];for(;s>n;n++)a=r[e[n]],null!=a&&(u+=(i?"&":"?")+e[n]+"="+encodeURIComponent(a),i=!0);return u},angular.module("ui.util").provider("$urlMatcherFactory",$UrlMatcherFactory),$UrlRouterProvider.$inject=["$urlMatcherFactoryProvider"],angular.module("ui.router").provider("$urlRouter",$UrlRouterProvider),$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],angular.module("ui.state").value("$stateParams",{}).provider("$state",$StateProvider),$ViewDirective.$inject=["$state","$compile","$controller","$anchorScroll"],angular.module("ui.state").directive("uiView",$ViewDirective),$RouteProvider.$inject=["$stateProvider","$urlRouterProvider"],angular.module("ui.compat").provider("$route",$RouteProvider).directive("ngView",$ViewDirective);